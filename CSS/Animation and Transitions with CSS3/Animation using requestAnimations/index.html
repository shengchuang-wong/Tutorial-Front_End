<!DOCTYPE html>
<html>
<head>
	<title>Animation using requestAnimation</title>
</head>
<style type="text/css">
	body {
		background-color: #333;
	}

	#myCanvas {
		display: block;
		margin: 0 auto;
		text-align: center;
		background-color: #FFF;
	}
</style>
<body>
	<canvas id="myCanvas" width="700" height="500">
		
	</canvas>

	<script type="text/javascript">
		var mainCanvas = document.querySelector("#myCanvas");

		var context = mainCanvas.getContext("2d");

		var count = 0;

		function draw() {

			context.clearRect(0, 0, 700, 500);

			count += 10;

			context.fillRect(count, 100, 50, 50);
			context.fillRect(count * .5, 300, 50, 50);

			context.fillStyle = "#003399";

			if(count > 700) {
				count = -50;
			}

			window.requestAnimationFrame(draw);
		}

		draw();
	</script>
</body>
</html>